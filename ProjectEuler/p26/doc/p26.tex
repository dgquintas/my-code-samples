\documentclass[a4paper,12pt]{article}
\usepackage[latin1]{inputenc} %entrada usando ISO-Latin1
\usepackage{listings}
\usepackage{color}
\usepackage{a4wide}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{subfigure}
\usepackage{amsthm}
\theoremstyle{definition} \newtheorem{theorem}{Theorem}
\theoremstyle{remark}     \newtheorem*{remark}{Remark}

\pagestyle{headings}

\title{Project Euler Problem 26}
\author{David García Quintas}
\date{\today}

\begin{document}
\maketitle
\lstset{numbers=left, numberstyle=\tiny, stepnumber=1, numbersep=5pt,language=python}

\section{The Problem}\label{problem}
\begin{quote}
A unit fraction contains $1$ in the numerator. The decimal representation of the
unit fractions with denominators $2$ to $10$ are given:

\begin{eqnarray*}
  1/2 & = &	0.5  \\
  1/3 & = &	0.(3)\\
  1/4 & = &	0.25\\
  1/5 & = &	0.2\\
  1/6 & = &	0.1(6)\\
  1/7 & = &	0.(142857)\\
  1/8 & = &	0.125\\
  1/9 & = &	0.(1)\\
  1/10& = &	0.1 
\end{eqnarray*}

Where $0.1(6)$ means $0.166666...$, and has a 1-digit recurring cycle. It can
be seen that $1/7$ has a 6-digit recurring cycle.

Find the value of $d < 1000$ for which $1/d$ contains the longest recurring cycle in its decimal fraction part.
\end{quote}

\section{Analysis}
Preliminary theory\cite{WPcarmichael}:

\begin{theorem}
The Carmichael function of a positive integer $n$, denoted $\lambda(n)$, is defined as the smallest positive integer $m$ such that
\[
    a^m \equiv 1 \pmod{n}
\]

for every integer $a$ that is coprime to $n$.

In other words, in more algebraic terms, it defines the exponent of the multiplicative group of residues modulo $n$.
\end{theorem}


The only ``glitch'' has to do with $a$ having to be coprime to $n$. Can we get away with checking just the primes? 
That is to say, is there any warranty that the longest period will be generated by a $1/p$ with $p$ a prime?

Here goes another piece of information\cite{decimalExpansion}:
%TODO

  
  \subsection{Description of the algorithm}
    \begin{lstlisting}[captionpos=b,basicstyle=\small,frame=shadowbox,rulesepcolor=\color{black},caption=Alg. Prob. 26]
print "(period, d as in 1/d) ->", \
  max([ (Mod(10,d).multiplicative_order(), d) 
    for d in primes(11,999)])
    \end{lstlisting}

\section{Testing}
\subsection{Output}
\begin{verbatim}
$ /opt/sage-4.0.2/sage period.sage 
(period, d as in 1/d) -> (982, 983)
\end{verbatim}

\subsection{Timing}
\begin{verbatim}
$ python /opt/sage-4.0.2/local/lib/python/timeit.py < period.sage 
1000000 loops, best of 3: 0.163 usec per loop
\end{verbatim}
  
\begin{thebibliography}{alpha}
\bibitem{WPcarmichael} \url{http://en.wikipedia.org/wiki/Carmichael_function}
\bibitem{decimalExpansion} Weisstein, Eric W. "Decimal Expansion." From
                            MathWorld--A Wolfram Web Resource.
                          \url{http://mathworld.wolfram.com/DecimalExpansion.html}
\end{thebibliography}



\end{document}

